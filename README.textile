h1. oui_video

*Work in process: this plugin is not officially released yet!*

Easily embed videos in articles and customise the appearance of the player.

h2. Table of contents

# "Plugin requirements":#help-section01
# "Installation":#help-section02
# "Tags":#help-section03
# "Examples":#help-section04
# "Author":#help-section05
# "License":#help-section06

h2(#help-section01). Plugin requirements

oui_video's minimum requirements:

* "Textpattern CMS":http://textpattern.com/ 4.5+

h2(#help-section02). Installation

To install go to the 'plugins' tab under 'admin' and paste the plugin code into the 'Install plugin' box, 'upload' and then 'install'. Please note that you will need to set-up a custom field to use for associating videos with articles, unless you choose to directly embed the new tag in the article text.

h2(#help-section03). Tags

h3. oui_video

Embeds a video in the page using an iframe.

bc. <txp:oui_video />

h4. Presentational attributes

* @label=""@ - Label for the video.
* @labeltag=""@ - HTML wraptag for the label, without brackets.
* @wraptag=""@ - HTML tag to be used as the content wraptag, without brackets.
* @class=""@ - CSS class for HTML content wraptag.

h4. Main tag attributes

* @video=""@ - Video url for the video you want to embed
* @custom_field=""@ - Name of the custom field containing video IDs/urls associated with article
* @provider=""@ - The video provider to check against before to continue

h4. Common player parameters

* @autoplay="0"@ - @0@ or @1@ - Play the video automatically on load. Note that this won’t work on some devices.
* @player_id=""@ - A unique id for the player that will be passed back with all Javascript API responses.

h4. Vimeo additional player parameters

More informations on "this Vimeo webpage":https://developer.vimeo.com/player/embedding

* @autopause="1"@ - @0@ or @1@ - Enables or disables pausing this video when another video is played.
* @autoplay="0"@ - @0@ or @1@ - Play the video automatically on load. Note that this won’t work on some devices.
* @badge="1"@ - @0@ or @1@ - Enables or disables the badge on the video.
* @byline="1"@ - @0@ or @1@ - Show the user’s byline on the video.
* @color="00adef"@ - Specify the color of the video controls. Make sure that you don’t include the #.
* @loop="0"@ - @0@ or @1@ - Play the video again when it reaches the end.
* @player_id=""@ - A unique id for the player that will be passed back with all Javascript API responses.
* @portrait="1"@ - @0@ or @1@ - Show the user’s portrait on the video.
* @info="1"@ - (@title@ Vimeo attribute) - @0@ or @1@ - Show the title on the video.

h4. Youtube additional player parameters

More informations on "this Youtube webpage":https://developers.google.com/youtube/player_parameters

* @autohide="2"@ - @0@, @1@ or @2@
* @autoplay="0"@ - @0@ or @1@
* @user_prefs="1"@ (@cc_load_policy@) - @0@ or @1@
* @color="red"@ - @red@ or @white@
* @controls="1"@ - @0@, @1@ or @2@
* @api="0"@ (@enablejsapi@) - @0@ or @1@
* @full_screen="1"@ (@fs@) - @0@ or @1@
* @annotations="1"@ (@iv_load_policy@) - @1@ or @3@
* @loop="0"@ - @0@ or @1@
* @logo="1"@ (alterate @modestbranding@) - @0@ or @1@
* @player_id=""@ (@playerapiid@) - @0@ or @1@
* @related="1"@ (@rel@) - @0@ or @1@
* @start=""@ - Value: an integer
* @info="1"@ (@show_info@) - @0@ or @1@
* @theme="dark"@ - @dark@ or @light@

h4. Dailymotion additional player parameters

More informations on "this Youtube webpage":https://developer.dailymotion.com/player#player-parameters

* @api="0"@ - @postMessage@, @location@ or @1@ - Enables the Player API. In native mobile apps, use @api="location"@, otherwise we recommend using @api=1@.
* @autoplay="0"@ - @0@ or @1@ - Starts the playback of the video automatically after the player load. Note: this parameter may not work on some mobile OS.
* @controls="1"@ - @0@ or @1@ - Whether to display the player controls or not.
* @lang=""@ - - Specifies the default selected subtitles language.
* @mute="0"@ - @0@ or @1@ - Whether to mute the video or not.
* @related="1"@ (@endscreen-enable@) - @0@ or @1@ - Whether to enable the end screen or not.
* @player_id=""@ (@id@) - ID of the player unique to the page to be passed back with all API messages.
* @origin=""@ - The domain of the page hosting the Dailymotion player. When using @api="postMessage"@, you might want to specify origin for extra security.
* @quality="auto"@ - @240@, @380@, @480@, @720@, @1080@, @1440@ or @2160@ - Specifies the suggested playback quality for the video.
* @sharing="1"@ - @0@ or @1@ - Whether to display the sharing button or not.
* @start=""@ - Specifies the time (in seconds) from which the video should start playing.
* @syndication=""@ - Passes your syndication key to the player.
* @theme="dark"@ - @dark@ or @light@ - Choose the default base colour theme.
* @color="ffcc33"@ (@ui-highlight@) - Change the default highlight colour used in the controls (hex value without the leading #).
* @logo="1"@ (@ui-logo@) - @0@ or @1@ - Whether to display the Dailymotion logo or not.
* @info="1"@ (@ui-start-screen-info@) - @0@ or @1@ - Whether to show video information (title and owner) on the start screen.

h2. oui_if_video

In addition to oui_video this plugin also comes with oui_if_video, a conditional tag for checking if the video URL is a valid one.

bc. <txp:oui_if_video video="…">
[…]
</txp:oui_if_video>

h4. Attributes

Use one or the other of the following:

* @custom_field=""@ - Name of the custom field containing video IDs/urls associated with article.
* @video=""@ - A URL to check if it is a valid video URL.
* @provider=""@ - vimeo, youtube or dailymotion.

h2(#help-section04). Examples

h3. Example 1: Use custom field to associate video with an article

bc. <txp:oui_video custom="Video" />

h3. Example 2: Set the size of the player

bc. <txp:oui_video video="http://dai.ly/x4l8awd" width="500" ratio="16:9" />

h3. Example 3: Using the conditional tag

bc.. <txp:oui_if_video video="https://Dailymotion.com/86295452">
    Yes
<txp:else />
    No
</txp:oui_if_video>

h2(#help-section05). Author

"Nicolas Morand":https://github.com/NicolasGraph, from "arc_youtube":http://andy-carter.com/txp/arc_youtube and "arc_vimeo":http://andy-carter.com/txp/arc_vimeo by "Andy Carter":http://andy-carter.com and "oui_dailymotion":https://github.com/NicolasGraph/oui_dailymotion by "Nicolas Morand":https://github.com/NicolasGraph.

h2(#help-section06). License

This plugin is distributed under the "MIT licence":https://opensource.org/licenses/MIT.
Copyright (c) 2014 Andy Carter, (c) 2015-16 Nicolas Morand.
